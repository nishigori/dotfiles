; vim: set ts=4 sw=4 sts=0 noexpandtab:
[core]
	editor       = vim
	excludesfile = ~/.gitignore
	quotepath    = false
	#pager        = delta
	#pager        = diff-so-fancy | less --no-init --quit-if-one-screen --tabs=4 -RFX

[color]
	ui     = true
	diff   = auto
	status = auto
	branch = auto

[gui]
	recentrepo =

[grep]
	lineNumber = true
;
;; brew install git-delta
;; delta is https://github.com/dandavison/delta
[delta]
	plus-style = "syntax #012800"
	minus-style = "syntax #340001"
	;; $ delta --list-syntax-themes
	syntax-theme = Solarized (dark)
	line-numbers = true
	navigate = true

[interactive]
	diffFilter = delta --color-only

[pager]
	#log   = delta | less -RFXS
	#reflog = delta
	#diff  = delta
	#show = delta
	grep  = less --no-init --quit-if-one-screen
	stash = false

[pull]
	rebase = true

[merge]
	tool = vimdiff

[alias]
	co        = checkout
	cob       = switch -c
	ci        = commit --verbose
	cim       = commit --verbose -m
	di        = diff --ignore-space-change
	dic       = diff --cached --ignore-space-change
	dis       = diff --stat
	br        = branch --verbose
	bra       = branch --verbose --all
	brd       = branch --delete -vv
	fv        = fetch --verbose --prune
	hist      = log --graph --pretty='format:%C(green)%h%C(black blue)%d%Creset %s %C(cyan)%ci%Creset %C(magenta ul)By %cn%Creset'
	logpretty = log --decorate --graph --name-status --oneline
	pv        = pull --verbose
	rb        = rebase --verbose
	st        = status
	stv       = status --verbose
	wc        = whatchanged
	# shown default branch
	default   = !git show-ref --verify --quiet refs/heads/master && echo master || git symbolic-ref refs/remotes/origin/HEAD | sed 's@^refs/remotes/origin/@@'
	jump      = !git checkout $(git branch | sed 's/*//g' | sed 's/ //g' | peco)
	souji     = !git branch --merged | grep -v -e '^[*]' -e "$(git default)" | xargs -r git branch -d
	master    = !git switch $(git default) && git fv && git rebase origin/$(git default) -v
	today-numstat = !"f(){ \
	  git log \
	  --numstat \
	  --branches \
	  --no-merges \
	  --since=midnight \
	  --author=\"$(git config user.name)\" \
	  | awk 'NF==3 {a+=$1; d+=$2} END { \
	    printf(\"%d (\\x1b[32m+%d\\033[m, \\x1b[31m-%d\\033[m)\\n\", a+d, a, d)\
	  }'; \
	};f"
	q-numstat = !"f(){ \
	  git log \
	  --numstat \
	  --branches \
	  --no-merges \
	  --since=\"3 months ago\" \
	  --author=\"$(git config user.name)\" \
	  | awk 'NF==3 {a+=$1; d+=$2} END { \
	    printf(\"%d (\\x1b[32m+%d\\033[m, \\x1b[31m-%d\\033[m)\\n\", a+d, a, d)\
	  }'; \
	};f"

[ghq]
	root = ~/src

[color "diff-highlight"]
	oldNormal = magenta bold
	oldHighlight = magenta bold 52
	newNormal = green bold
	newHighlight = green bold 22

[color "diff"]
	meta = 11
	frag = cyan bold
	func = 146 bold
	commit = yellow bold
	old = magenta bold
	new = green bold
	whitespace = magenta reverse

[include]
	path = ~/.gitsecret
[filter "lfs"]
	clean = git-lfs clean -- %f
	smudge = git-lfs smudge -- %f
	process = git-lfs filter-process
	required = true
[user]
	name = nishigori
	email = nishigori.tak@gmail.com
